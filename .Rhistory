vg_nr == 733703 ~ 'Edenkoben',
vg_nr == 733704 ~ 'Herxheim',
vg_nr == 733705 ~ 'Landau-Land',
vg_nr == 733706 ~ 'Maikammer',
vg_nr == 733707 ~ 'Offenbach an der Queich',
vg_nr == 733800 ~ 'vfr Rhein-Pfalz',
vg_nr == 733801 ~ 'Dannstadt-Schauernheim',
vg_nr == 733804 ~ 'Maxdorf',
vg_nr == 733806 ~ 'Lambsheim-He?heim',
vg_nr == 733807 ~ 'R?merberg-Dudenhofen',
vg_nr == 733808 ~ 'Rheinauen',
vg_nr == 733900 ~ 'vfr Mainz-Bingen',
vg_nr == 733901 ~ 'Rhein-Nahe',
vg_nr == 733902 ~ 'Bodenheim',
vg_nr == 733903 ~ 'Gau-Algesheim',
vg_nr == 733906 ~ 'Nieder-Olm',
vg_nr == 733907 ~ 'Rhein-Selz',
vg_nr == 733908 ~ 'Sprendlingen-Gensingen',
vg_nr == 734001 ~ 'Dahner Felsenland',
vg_nr == 734002 ~ 'Hauenstein',
vg_nr == 734003 ~ 'Pirmasens Land',
vg_nr == 734004 ~ 'Rodalben',
vg_nr == 734006 ~ 'Waldfischbach-Burgalben',
vg_nr == 734009 ~ 'Thaleischweiler-Wallhalben',
vg_nr == 734008 ~ 'Zweibr?cken-Land',
vg_nr == 731700 ~ 'Pirmasens',
vg_nr == 731500 ~ 'Mainz',
vg_nr == 731900 ~ 'Worms',
vg_nr == 732000 ~ 'Zweibr?cken'))
#######################################################################################
#add electricity yiel in MWh and full load hours in the selection_without_outlier df's#
#######################################################################################
selection_2017_without_outliers <- selection_2017_without_outliers %>%
mutate(flh = menge_kwh/leistung) %>%
mutate(menge_mwh = round(menge_kwh/1000))
selection_2018_without_outliers <- selection_2018_without_outliers %>%
mutate(flh = menge_kwh/leistung) %>%
mutate(menge_mwh = round(menge_kwh/1000))
selection_2019_without_outliers <- selection_2019_without_outliers %>%
mutate(flh = menge_kwh/leistung) %>%
mutate(menge_mwh = round(menge_kwh/1000))
#######################################################################################################################
#count plants for different comissioning periods for Rhineland-Palatinate and their electricity yield and create files#
#######################################################################################################################
comissioning_before2001 <- subset(selection_without_outliers, inbetriebnahme < "2000-12-31")
sum(comissioning_before2001$menge_kwh/10^6)
comissioning_before2005 <- subset(selection_without_outliers, inbetriebnahme < "2005-12-31")
comissioning_2001_2005 <- subset(comissioning_before2005, inbetriebnahme > "2000-12-31")
sum(comissioning_2001_2005$menge_kwh/10^6)
####################################################
#linear models with electricity over rated capacity#
####################################################
lm_e_over_rated_capacity_2019 <- lm(selection_2019_without_outliers$menge_mwh ~ selection_2019_without_outliers$leistung)
summary(lm_e_over_rated_capacity_2019)
plot(lm_e_over_rated_capacity_2019)
View(selection_2019)
##########################################################################
#Plot electricity yield over rated capacity with linear trend 2017 - 2019#
##########################################################################
pe_over_ratedcapacity_2019 <- ggplot() +
geom_point(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "blue") +
geom_point(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "red") +
geom_point(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "green") +
geom_smooth(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2017"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2018"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2019"), method=lm, se=TRUE, fullrange = TRUE)  +
theme_light() +
scale_x_date(limits = as.Date(c("1990-01-01","2030-12-31"))) +
ylim(-1000, 12000) +
xlab("Rated capacity (kW)") +
ylab("Electricity yield [MWh]") +
theme( axis.text=element_text(size=12),
axis.title=element_text(size=13),
plot.title = element_text(size=16),
legend.position = c(0.85, 0.9),
legend.direction = "horizontal") +
geom_hline(yintercept = 7400, linetype = 'dashed') +
annotate(geom="text",x=as.Date("1997-01-01"),
y=6500,label="mean of ~ 7,400 MWh/a in 2021") +
annotate(geom="text",x=as.Date("2028-01-01"),
y=1000,label= "R² = 68 - 70 %") +
annotate(geom="text",x=as.Date("2028-01-01"),
y=400,label="p-value << 0.001") +
scale_colour_manual(name = "Year", values=c("blue", "red", "green"))
############
#print plot#
############
pe_over_ratedcapacity_2019 +  theme(legend.position = c(0.25,0.9))
##########################################################################
#Plot electricity yield over rated capacity with linear trend 2017 - 2019#
##########################################################################
pe_over_ratedcapacity_2019 <- ggplot() +
geom_point(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "blue") +
geom_point(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "red") +
geom_point(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "green") +
geom_smooth(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2017"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2018"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2019"), method=lm, se=TRUE, fullrange = TRUE)  +
theme_light() +
ylim(-1000, 12000) +
xlab("Rated capacity (kW)") +
ylab("Electricity yield [MWh]") +
theme( axis.text=element_text(size=12),
axis.title=element_text(size=13),
plot.title = element_text(size=16),
legend.position = c(0.85, 0.9),
legend.direction = "horizontal") +
geom_hline(yintercept = 7400, linetype = 'dashed') +
annotate(geom="text",x=as.Date("1997-01-01"),
y=6500,label="mean of ~ 7,400 MWh/a in 2021") +
annotate(geom="text",x=as.Date("2028-01-01"),
y=1000,label= "R² = 68 - 70 %") +
annotate(geom="text",x=as.Date("2028-01-01"),
y=400,label="p-value << 0.001") +
scale_colour_manual(name = "Year", values=c("blue", "red", "green"))
############
#print plot#
############
pe_over_ratedcapacity_2019 +  theme(legend.position = c(0.25,0.9))
##########################################################################
#Plot electricity yield over rated capacity with linear trend 2017 - 2019#
##########################################################################
pe_over_ratedcapacity_2019 <- ggplot() +
geom_point(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "blue") +
geom_point(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "red") +
geom_point(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "green") +
geom_smooth(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2017"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2018"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2019"), method=lm, se=TRUE, fullrange = TRUE)  +
theme_light() +
ylim(-1000, 12000) +
xlim(0,10000) +
xlab("Rated capacity (kW)") +
ylab("Electricity yield [MWh]") +
theme( axis.text=element_text(size=12),
axis.title=element_text(size=13),
plot.title = element_text(size=16),
legend.position = c(0.85, 0.9),
legend.direction = "horizontal") +
geom_hline(yintercept = 7400, linetype = 'dashed') +
annotate(geom="text",x=as.Date("1997-01-01"),
y=6500,label="mean of ~ 7,400 MWh/a in 2021") +
annotate(geom="text",x=as.Date("2028-01-01"),
y=1000,label= "R² = 68 - 70 %") +
annotate(geom="text",x=as.Date("2028-01-01"),
y=400,label="p-value << 0.001") +
scale_colour_manual(name = "Year", values=c("blue", "red", "green"))
############
#print plot#
############
pe_over_ratedcapacity_2019 +  theme(legend.position = c(0.25,0.9))
##########################################################################
#Plot electricity yield over rated capacity with linear trend 2017 - 2019#
##########################################################################
pe_over_ratedcapacity_2019 <- ggplot() +
geom_point(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "blue") +
geom_point(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "red") +
geom_point(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "green") +
geom_smooth(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2017"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2018"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2019"), method=lm, se=TRUE, fullrange = TRUE)  +
theme_light() +
ylim(-1000, 12000) +
xlim(0,7500) +
xlab("Rated capacity (kW)") +
ylab("Electricity yield [MWh]") +
theme( axis.text=element_text(size=12),
axis.title=element_text(size=13),
plot.title = element_text(size=16),
legend.position = c(0.85, 0.9),
legend.direction = "horizontal") +
geom_hline(yintercept = 7400, linetype = 'dashed') +
annotate(geom="text",x=as.Date("1997-01-01"),
y=6500,label="mean of ~ 7,400 MWh/a in 2021") +
annotate(geom="text",x=as.Date("2028-01-01"),
y=1000,label= "R² = 68 - 70 %") +
annotate(geom="text",x=as.Date("2028-01-01"),
y=400,label="p-value << 0.001") +
scale_colour_manual(name = "Year", values=c("blue", "red", "green"))
############
#print plot#
############
pe_over_ratedcapacity_2019 +  theme(legend.position = c(0.25,0.9))
##########################################################################
#Plot electricity yield over rated capacity with linear trend 2017 - 2019#
##########################################################################
pe_over_ratedcapacity_2019 <- ggplot() +
geom_point(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "blue") +
geom_point(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "red") +
geom_point(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "green") +
geom_smooth(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2017"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2018"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2019"), method=lm, se=TRUE, fullrange = TRUE)  +
theme_light() +
ylim(-1000, 12000) +
xlim(0,5000) +
xlab("Rated capacity (kW)") +
ylab("Electricity yield [MWh]") +
theme( axis.text=element_text(size=12),
axis.title=element_text(size=13),
plot.title = element_text(size=16),
legend.position = c(0.85, 0.9),
legend.direction = "horizontal") +
geom_hline(yintercept = 7400, linetype = 'dashed') +
annotate(geom="text",x=as.Date("1997-01-01"),
y=6500,label="mean of ~ 7,400 MWh/a in 2021") +
annotate(geom="text",x=as.Date("2028-01-01"),
y=1000,label= "R² = 68 - 70 %") +
annotate(geom="text",x=as.Date("2028-01-01"),
y=400,label="p-value << 0.001") +
scale_colour_manual(name = "Year", values=c("blue", "red", "green"))
############
#print plot#
############
pe_over_ratedcapacity_2019 +  theme(legend.position = c(0.25,0.9))
##########################################################################
#Plot electricity yield over rated capacity with linear trend 2017 - 2019#
##########################################################################
pe_over_ratedcapacity_2019 <- ggplot() +
geom_point(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#03a1fc") +
geom_point(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#fc5a03") +
geom_point(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#94fc03") +
geom_smooth(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2017"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2018"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2019"), method=lm, se=TRUE, fullrange = TRUE)  +
theme_light() +
ylim(-1000, 12000) +
xlim(0,5000) +
xlab("Rated capacity (kW)") +
ylab("Electricity yield [MWh]") +
theme( axis.text=element_text(size=12),
axis.title=element_text(size=13),
plot.title = element_text(size=16),
legend.position = c(0.85, 0.9),
legend.direction = "horizontal") +
geom_hline(yintercept = 7400, linetype = 'dashed') +
annotate(geom="text",x=as.Date("1997-01-01"),
y=6500,label="mean of ~ 7,400 MWh/a in 2021") +
annotate(geom="text",x=as.Date("2028-01-01"),
y=1000,label= "R² = 68 - 70 %") +
annotate(geom="text",x=as.Date("2028-01-01"),
y=400,label="p-value << 0.001") +
scale_colour_manual(name = "Year", values=c("#03a1fc", "#fc5a03", "#94fc03"))
############
#print plot#
############
pe_over_ratedcapacity_2019 +  theme(legend.position = c(0.25,0.9))
##########################################################################
#Plot electricity yield over rated capacity with linear trend 2017 - 2019#
##########################################################################
pe_over_ratedcapacity_2019 <- ggplot() +
geom_point(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#03a1fc") +
geom_point(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#fc5a03") +
geom_point(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#94fc03") +
geom_smooth(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2017"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2018"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2019"), method=lm, se=TRUE, fullrange = TRUE)  +
theme_light() +
ylim(-1000, 12000) +
xlim(0,5000) +
xlab("Rated capacity (kW)") +
ylab("Electricity yield [MWh]") +
theme( axis.text=element_text(size=12),
axis.title=element_text(size=13),
plot.title = element_text(size=16),
legend.position = c(0.85, 0.9),
legend.direction = "horizontal") +
geom_hline(yintercept = 7400, linetype = 'dashed', size = 0.25) +
geom_vline(xintercept = 3500, linetype = 'dashed', size = 0.25) +
annotate(geom="text",x=1000,
y=6500,label="7,400 MWh/a in 2021 from plot above") +
annotate(geom="text",x=4000,
y=2000,label="~ 3.5 MW") +
annotate(geom="text",x=as.Date("2028-01-01"),
y=1000,label= "R² = 68 - 70 %") +
annotate(geom="text",x=as.Date("2028-01-01"),
y=400,label="p-value << 0.001") +
scale_colour_manual(name = "Year", values=c("#03a1fc", "#fc5a03", "#94fc03"))
############
#print plot#
############
pe_over_ratedcapacity_2019 +  theme(legend.position = c(0.25,0.9))
##########################################################################
#Plot electricity yield over rated capacity with linear trend 2017 - 2019#
##########################################################################
pe_over_ratedcapacity_2019 <- ggplot() +
geom_point(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#03a1fc") +
geom_point(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#fc5a03") +
geom_point(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#94fc03") +
geom_smooth(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2017"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2018"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2019"), method=lm, se=TRUE, fullrange = TRUE)  +
theme_light() +
ylim(-1000, 12000) +
xlim(0,5000) +
xlab("Rated capacity (kW)") +
ylab("Electricity yield [MWh]") +
theme( axis.text=element_text(size=12),
axis.title=element_text(size=13),
plot.title = element_text(size=16),
legend.position = c(0.85, 0.9),
legend.direction = "horizontal") +
geom_hline(yintercept = 7400, linetype = 'dashed', size = 0.25) +
geom_vline(xintercept = 3500, linetype = 'dashed', size = 0.25) +
annotate(geom="text",x=1000,
y=7000,label="7,400 MWh/a in 2021 from plot above") +
annotate(geom="text",x=4000,
y=2000,label="min. 3.5 MW") +
annotate(geom="text",x=as.Date("2028-01-01"),
y=1000,label= "R² = 68 - 70 %") +
annotate(geom="text",x=as.Date("2028-01-01"),
y=400,label="p-value << 0.001") +
scale_colour_manual(name = "Year", values=c("#03a1fc", "#fc5a03", "#94fc03"))
############
#print plot#
############
pe_over_ratedcapacity_2019 +  theme(legend.position = c(0.25,0.9))
####################
#save plot as image#
####################
ggsave("results_of_analysis/electricity_yield_2017-2019_rlp_over_rated_capacity.png",
plot = last_plot(),
dpi = 900,
width = 7,
height = 4)
Sys.setenv(LANG = "en")
pacman::p_load(rio, data.table, tidyverse, tidyr, purrr, magrittr, compare,
ggplot2, DiagrammeR)
ggsave("results_of_analysis/electricity_yield_2017-2019_rlp_over_rated_capacity.png",
plot = last_plot(),
dpi = 900,
width = 7,
height = 4)
####################
#save plot as image#
####################
ggsave("results_of_analysis/electricity_yield_over_rated_capacity.png",
plot = last_plot(),
dpi = 900,
width = 7,
height = 4)
####################
#save plot as image#
####################
ggsave("results_of_analysis/electricity_rated_capacity.png",
plot = last_plot(),
dpi = 900,
width = 7,
height = 4)
ggsave("results_of_analysis/electricity_rated_capacity.png",
plot = last_plot(),
dpi = 900,
width = 7,
height = 4)
setwd("C:/Users/Dell/Desktop/MasterThesis/master-thesis-repowering/data/Amprion")
ggsave("results_of_analysis/electricity_rated_capacity.png",
plot = last_plot(),
dpi = 900,
width = 7,
height = 4)
summary(lm_electricity2)
lm_electricity2 <- lm(amprion$menge_mwh ~ amprion$leistung)
summary(lm_electricity2)
summary(lm_e_over_rated_capacity_2019)
##########################################################################
#Plot electricity yield over rated capacity with linear trend 2017 - 2019#
##########################################################################
pe_over_ratedcapacity_2019 <- ggplot() +
geom_point(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#03a1fc") +
geom_point(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#fc5a03") +
geom_point(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#94fc03") +
geom_smooth(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2017"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2018"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2019"), method=lm, se=TRUE, fullrange = TRUE)  +
theme_light() +
ylim(-1000, 12000) +
xlim(0,5000) +
xlab("Rated capacity (kW)") +
ylab("Electricity yield [MWh]") +
theme( axis.text=element_text(size=12),
axis.title=element_text(size=13),
plot.title = element_text(size=16),
legend.position = c(0.85, 0.9),
legend.direction = "horizontal") +
geom_hline(yintercept = 7400, linetype = 'dashed', size = 0.25) +
geom_vline(xintercept = 3500, linetype = 'dashed', size = 0.25) +
annotate(geom="text",x=1000,
y=7000,label="7,400 MWh/a in 2021 from plot above") +
annotate(geom="text",x=4000,
y=2000,label="min 3.5 MW") +
annotate(geom="text",x=4500),
y=1000,label= "R² = ~ 79 %") +
scale_colour_manual(name = "Year", values=c("#03a1fc", "#fc5a03", "#94fc03"))
############
#print plot#
############
pe_over_ratedcapacity_2019 +  theme(legend.position = c(0.25,0.9))
##########################################################################
#Plot electricity yield over rated capacity with linear trend 2017 - 2019#
##########################################################################
pe_over_ratedcapacity_2019 <- ggplot() +
geom_point(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#03a1fc") +
geom_point(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#fc5a03") +
geom_point(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#94fc03") +
geom_smooth(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2017"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2018"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2019"), method=lm, se=TRUE, fullrange = TRUE)  +
theme_light() +
ylim(-1000, 12000) +
xlim(0,5000) +
xlab("Rated capacity (kW)") +
ylab("Electricity yield [MWh]") +
theme( axis.text=element_text(size=12),
axis.title=element_text(size=13),
plot.title = element_text(size=16),
legend.position = c(0.85, 0.9),
legend.direction = "horizontal") +
geom_hline(yintercept = 7400, linetype = 'dashed', size = 0.25) +
geom_vline(xintercept = 3500, linetype = 'dashed', size = 0.25) +
annotate(geom="text",x=1000,
y=7000,label="7,400 MWh/a in 2021 from plot above") +
annotate(geom="text",x=4000,
y=2000,label="min 3.5 MW") +
annotate(geom="text",x=4500,
y=1000,label= "R² = ~ 79 %") +
scale_colour_manual(name = "Year", values=c("#03a1fc", "#fc5a03", "#94fc03"))
############
#print plot#
############
pe_over_ratedcapacity_2019 +  theme(legend.position = c(0.25,0.9))
##########################################################################
#Plot electricity yield over rated capacity with linear trend 2017 - 2019#
##########################################################################
pe_over_ratedcapacity_2019 <- ggplot() +
geom_point(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#03a1fc") +
geom_point(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#fc5a03") +
geom_point(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#94fc03") +
geom_smooth(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2017"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2018"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2019"), method=lm, se=TRUE, fullrange = TRUE)  +
theme_light() +
ylim(-1000, 12000) +
xlim(0,5000) +
xlab("Rated capacity (kW)") +
ylab("Electricity yield [MWh]") +
theme( axis.text=element_text(size=12),
axis.title=element_text(size=13),
plot.title = element_text(size=16),
legend.position = c(0.85, 0.9),
legend.direction = "horizontal") +
geom_hline(yintercept = 7400, linetype = 'dashed', size = 0.25) +
geom_vline(xintercept = 3500, linetype = 'dashed', size = 0.25) +
annotate(geom="text",x=1000,
y=7000,label="7,400 MWh/a in 2021 from plot above") +
annotate(geom="text",x=4000,
y=2000,label="min 3.5 MW") +
annotate(geom="text",x=4500,
y=11000,label= "R² = ~ 79 %") +
scale_colour_manual(name = "Year", values=c("#03a1fc", "#fc5a03", "#94fc03"))
############
#print plot#
############
pe_over_ratedcapacity_2019 +  theme(legend.position = c(0.25,0.9))
####################
#save plot as image#
####################
ggsave("results_of_analysis/electricity_rated_capacity.png",
plot = last_plot(),
dpi = 900,
width = 7,
height = 4)
##########################################################################
#Plot electricity yield over rated capacity with linear trend 2017 - 2019#
##########################################################################
pe_over_ratedcapacity_2019 <- ggplot() +
geom_point(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#03a1fc") +
geom_point(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#fc5a03") +
geom_point(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh), size = 0.4, colour = "#94fc03") +
geom_smooth(data = selection_2017_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2017"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2018_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2018"), method=lm, se=TRUE, fullrange = TRUE)  +
geom_smooth(data = selection_2019_without_outliers, aes(x=leistung, y=menge_mwh, colour = "2019"), method=lm, se=TRUE, fullrange = TRUE)  +
theme_light() +
ylim(-1000, 12000) +
xlim(0,5000) +
xlab("Rated capacity (kW)") +
ylab("Electricity yield [MWh]") +
theme( axis.text=element_text(size=12),
axis.title=element_text(size=13),
plot.title = element_text(size=16),
legend.position = c(0.85, 0.9),
legend.direction = "horizontal") +
geom_hline(yintercept = 7400, linetype = 'dashed', size = 0.25) +
geom_vline(xintercept = 3500, linetype = 'dashed', size = 0.25) +
annotate(geom="text",x=1000,
y=7000,label="7,400 MWh/a in 2021 from plot above") +
annotate(geom="text",x=4000,
y=2000,label="min 3.5 MW") +
annotate(geom="text",x=4500,
y=11500,label= "R² = ~ 79 %") +
scale_colour_manual(name = "Year", values=c("#03a1fc", "#fc5a03", "#94fc03"))
############
#print plot#
############
pe_over_ratedcapacity_2019 +  theme(legend.position = c(0.25,0.9))
####################
#save plot as image#
####################
ggsave("results_of_analysis/electricity_rated_capacity.png",
plot = last_plot(),
dpi = 900,
width = 7,
height = 4)
